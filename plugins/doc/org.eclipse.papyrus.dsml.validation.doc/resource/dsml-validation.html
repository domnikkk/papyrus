<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<?xml version='1.0' encoding='utf-8'?>
<head>
  <meta name="generator" content="HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org" />
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
  <title>Constraints</title>
</head>

<body>
Papyrus supports an additional profile for domain specific modeling languages (DSML) that
refines how constraints are validated. In the sequel, we describe how this is done.

<p>
The additional profile enables a more precise specification of validation properties:

<ul>
<li>The mode: define if the validation of the constraint is done in
	&ldquo;batch&rdquo; or &ldquo;live&rdquo; mode
<li>The severity: The severity of constraint violation. It can be one of INFORMATION, WARNING or ERROR.
	The latter is the default severity (if none specified). The CANCEL severity should be used
	with caution, as it causes the validation operation to be interrupted, possibly
	resulting in the loss of valuable diagnostic information from other constraints.
<li>The message: the message that will be displayed if the constraint is violated
<li>The description: a description of the constraint
<li>Enabled default: indicates if this constraint should be enabled by
</ul>

CAVEAT: The information added via the profile is currently not taken into account OCL validation.
The support will be added soon.

<p>

Advanced users you can also precise<br>
<ul>
<li>The Id: the constraint id
<li>The status code: The plug-in unique status code, useful for logging.
<li>The target of validation, the element to be validated
</ul>

<h3 id="How_to_4">How to apply the DSML validation profile</h3>

<ol>
<li>Select the profile root and apply the profile
<li>Select the profile tab in the property view
<li>Click on the registered profile button
<li>Select the DSML validation profile
</ol>

<center>
<img vspace="5" src="DSMLprofileApplication.png"><br>
Apply the DSML profile
</center>

<ol>
<li>Select the constraint
<li>Select profile tab of the property view
<li>Click on apply profile button
<li>Select validationRule stereotype
</ol>

<center>
<img vspace="5" src="stereotypeApplication.png"><br>
Apply stereotype &ldquo;ValidationRule &rdquo;
</center>

Then you can edit a stereotype attribute to add information about the behavior of the
validation.
<p>

<center>
<img vspace="5" src="AnnotationEdition.png"><br>
Edition of a stereotype attribute
</center>

<h1 id="Generation_from_Constraints">Generation from Constraints</h1>

Constraints expressed in OCL can be validated directly. This is not the case for Java constraints
which must be placed in a suitable plugin. Papyrus supports the generation of this plugin.

<p>

<h1>CAVEAT</it>: The following information not up to date and will be updated soon</h1>

<pre>
<img border="0" src="UseCaseGeneration.png" /><br />
</pre>

  <p>Figure 13: Constraint generation<br /></p>

  <h2 id="Generate_constraints_directly_into_the_definition">Generate constraints
  directly into the definition</h2>

  <p>Constraint written in OCL in the profile can be generated into the definition of the
  profile and taken in charge during the validation of the model.<br /></p>

  <h3 id="How_to_5">How to</h3>

  <p>When you save the profile,Papyrus asks to you if want to define the profile.<br />
  Click on yes and then assure that the "Save OCL constraint into the definition" button
  is active (which is the case by default)<br /></p>
  <pre>
 <img border="0" src="ConstraintDefinition.png" /><br />
</pre>

  <p>Figure 14: save OCL constraints in the definition<br /></p>

  <h2 id="Generate_constraints_as_EMF_validation_plugins">Generate constraints as EMF
  validation plugins</h2>

  <p>The user can generate plugins that wrap constraint and can be used in the EMF plugin
  validation.<br />
  The constraint can be generated in Java code, or directly from OCL.<br /></p>

  <h3 id="How_to_6">How to</h3>

  <p>Select the root profile<br />
  Click right on the model explorer-&gt; create validation plugin for this DSML<br /></p>
  <pre>
<img border="0" src="PluginValidationGeneration.png" /><br />
</pre>

  <p>Then a wizard to create the validation is launched. You have to give a name for you
  validation plugin.<br /></p>
  <pre>
 <img border="0" src="pluginwizard.png" /><br />
</pre>

  <p>Figure 15: wizard of constraint validation creation<br />
  The you need to install the created plugin.<br /></p>
</body>
</html>
