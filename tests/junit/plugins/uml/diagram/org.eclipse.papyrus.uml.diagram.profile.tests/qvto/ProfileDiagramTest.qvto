import CanonicalTests;

modeltype UML uses uml('http://www.eclipse.org/uml2/5.0.0/UML');

transformation ProfileDiagramTest(in gmfgenUml : UML, in gmfgenMm : UML, in frameworkBase : UML, in utp : UML, out testModel : UML) extends CanonicalTests(in gmfgenUml : UML, in gmfgenMm : UML, in frameworkBase : UML, in utp : UML, out testModel : UML);

main() {
	topContainerEditPart := "PackageEditPart";
	topNodesToTest := Set{
		"DependencyNodeEditPart",
		"AssociationNodeEditPart",
		"StereotypeEditPart",
		"ClassEditPart",
		//"MetaclassEditPart", Blocks the UI
		"CommentEditPart",
		"ConstraintEditPart",
		"ModelEditPartTN",
		"ProfileEditPartTN",
		"PackageEditPart",
		"EnumerationEditPart",
		"PrimitiveTypeEditPart",
		"DataTypeEditPart"
	} ;
	childNodesToTest := Set{
		"PrimitiveTypeEditPartCN",
		"StereotypeEditPartCN",
		"ClassEditPartCN",
		"MetaclassEditPartCN",
		"CommentEditPartCN",
		"ModelEditPartCN",
		"ProfileEditPartCN",
		"PackageEditPartCN",
		"ConstraintEditPartCN",
		"EnumerationEditPartCN",
		"DataTypeEditPartCN"
	};
	linksToTest := Set{
		"ExtensionEditPart",
		"AssociationEditPart",
		"ProfileApplicationEditPart",
		"AssociationBranchEditPart",
		"DependencyEditPart",
		"DependencyBranchEditPart"
		"ContextLinkEditPart"
	};
	linksOwnedBySourceToTest := Set{
		"GeneralizationEditPart",
		"ElementImportEditPart",
		"PackageImportEditPart"
	};
	elementTypesAppearanceTest := Set{
		"DependencyNodeEditPart",
		"AssociationNodeEditPart",
		"StereotypeEditPart",
		"ClassEditPart",
		//Blocks the UI
		//"MetaclassEditPart", 
		"CommentEditPart",
		"ConstraintEditPart",
		"ModelEditPartTN",
		"ProfileEditPartTN",
		"PackageEditPart",
		"EnumerationEditPart",
		"PrimitiveTypeEditPart",
		"DataTypeEditPart",
		"ShortCutDiagramEditPart"
	};
	elementTypesDropTests := Set{
		"DependencyNodeEditPart",
		"AssociationNodeEditPart",
		"StereotypeEditPart",
		"ClassEditPart",
		//Blocks the UI
		//"MetaclassEditPart",
		"CommentEditPart",
		"ConstraintEditPart",
		"ModelEditPartTN",
		"ProfileEditPartTN",
		"PackageEditPart",
		"EnumerationEditPart",
		"PrimitiveTypeEditPart",
		"DataTypeEditPart"
	};	
	gmfgenUml.rootObjects()[UML::Model]->collectOne(canonicalTests("org.eclipse.papyrus.uml.diagram.profile.tests"));
}

